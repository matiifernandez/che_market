<div id="<%= dom_id(item) %>" class="p-4 flex items-center gap-4">
  <!-- Imagen -->
  <div class="w-20 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0">
    <% if item.product.images.attached? %>
      <%= image_tag item.product.images.first, class: "w-full h-full object-cover" %>
    <% else %>
      <div class="w-full h-full flex items-center justify-center">
        <span class="text-2xl">ðŸ“¦</span>
      </div>
    <% end %>
  </div>

  <!-- Info -->
  <div class="flex-grow">
    <a href="<%= product_path(item.product) %>" class="font-semibold text-gray-900 hover:text-indigo-600">
      <%= item.product.name %>
    </a>
    <p class="text-sm text-gray-500"><%= item.product.category&.name %></p>
    <p class="text-indigo-600 font-medium"><%= humanized_money_with_symbol(item.product.price) %></p>
  </div>

  <!-- Cantidad -->
  <div class="flex items-center gap-2">
    <%= form_with url: update_item_cart_path(item.product), method: :patch, data: {turbo: false}, class: "flex items-center gap-2" do %>
      <button type="submit" name="quantity" value="<%= item.quantity - 1 %>" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition">
        âˆ’
      </button>
      <span class="w-8 text-center font-medium"><%= item.quantity %></span>
      <button type="submit" name="quantity" value="<%= item.quantity + 1 %>" class="w-8 h-8 rounded-full bg-gray-200 hover:bg-gray-300 flex items-center justify-center transition">
        +
      </button>
    <% end %>
  </div>

  <!-- Subtotal -->
  <div class="text-right w-24">
    <p class="font-semibold text-gray-900"><%= humanized_money_with_symbol(item.subtotal) %></p>
  </div>

  <!-- Eliminar -->
  <%= button_to remove_item_cart_path(item.product), method: :delete, data: {turbo: false}, class: "text-red-500 hover:text-red-700 transition" do %>
    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
      <path fill-rule="evenodd" d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z" clip-rule="evenodd" />
    </svg>
  <% end %>
</div>
